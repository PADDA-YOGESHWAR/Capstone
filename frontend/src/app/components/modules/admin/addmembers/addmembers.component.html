<div class="container mt-5">
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h2 class="display-6 mb-0">Add New  Resident</h2>
    </div>
    
    <div class="card-body">
      <form [formGroup]="addResidentForm" (ngSubmit)="addResident()">
        <div class="form-group mb-3">
          <label for="userName" class="col-form-label">Username</label>
          <input type="text" id="userName" formControlName="userName" class="form-control" [class.is-invalid]="validateControl('userName')">
          <div *ngIf="validateControl('userName')" class="invalid-feedback">
            <small *ngIf="validateControlError('userName', 'required')">Username is required.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="email" class="col-form-label">Email</label>
          <input type="email" id="email" formControlName="email" class="form-control" [class.is-invalid]="validateControl('email')">
          <div *ngIf="validateControl('email')" class="invalid-feedback">
            <small *ngIf="validateControlError('email', 'required')">Email is required.</small>
            <small *ngIf="validateControlError('email', 'email')">Invalid email address.</small>
          </div>
        </div>
        <div class="form-group mb-3">
          <label for="passwordHash" class="col-form-label">Password</label>
          <input type="password" id="passwordHash" formControlName="passwordHash" class="form-control" [class.is-invalid]="validateControl('passwordHash')">
          <div *ngIf="validateControl('passwordHash')" class="invalid-feedback">
            <small *ngIf="validateControlError('passwordHash', 'required')">Password is required.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="flatNo" class="col-form-label"> FlatNo</label>
          <input type="text" id="flatNo" formControlName="flatNo" class="form-control" [class.is-invalid]="validateControl('flatNo')">
          <div *ngIf="validateControl('flatNo')" class="invalid-feedback">
            <small *ngIf="validateControlError('flatNo', 'required')">flatNo  is required.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="name" class="col-form-label">Name</label>
          <input type="text" id="name" formControlName="name" class="form-control" [class.is-invalid]="validateControl('name')">
          <div *ngIf="validateControl('name')" class="invalid-feedback">
            <small *ngIf="validateControlError('name', 'required')">Name is required.</small>
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="phoneNumber" class="col-form-label">Phone Number</label>
          <input type="text" id="phoneNumber" formControlName="phoneNumber" class="form-control" [class.is-invalid]="validateControl('phoneNumber')">
          <div *ngIf="validateControl('phoneNumber')" class="invalid-feedback">
            <small *ngIf="validateControlError('phoneNumber', 'required')">Phone Number is required.</small>
            <small *ngIf="validateControlError('phoneNumber', 'pattern')">Phone Number must be 10 digits.</small>
          </div>
        </div>
        <br>
        <button type="submit" class="btn btn-primary" [disabled]="addResidentForm.invalid">Add Service Provider</button>
      </form>

      <div *ngIf="successMessage" class="alert alert-success mt-4">{{ successMessage }}</div>
      <div *ngIf="errorMessage" class="alert alert-danger mt-4">{{ errorMessage }}</div>
    </div>
  </div>
</div>
